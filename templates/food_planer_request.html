{% extends "rest_framework/api.html" %}

{% block content %}
    {{ block.super }}
    <h1>Food Planner Form</h1>
    <form id="fileUploadForm" method="POST" enctype="multipart/form-data" action="{% url 'food_planer' %}">
        {% csrf_token %}

        <label for="latitude">Latitude:</label><br>
        <input type="text" id="latitude" name="latitude" required><br>

        <label for="longitude">Longitude:</label><br>
        <input type="text" id="longitude" name="longitude" required><br>

        <label for="distance">Distance (Km):</label><br>
        <input type="number" id="distance" name="distance" required><br>

        <label for="budget">Budget:</label><br>
        <input type="number" id="budget" name="budget" required><br>

        <label for="portions">Portions:</label><br>
        <input type="number" id="portions" name="portions" min="1" required><br>

        <button type="submit">Send Food Plan</button>
    </form>

    <script>
        // Pre-fill the form with default values if data exists from the backend (optional)
        document.addEventListener('DOMContentLoaded', function() {
            // You can set default values for the form if you have this data from the backend
            // Replace 'food_planer_serialized.data' with the appropriate data object if needed
            // Example:
            // document.getElementById('latitude').value = food_planer_serialized.data['latitude'];
            // document.getElementById('longitude').value = food_planer_serialized.data['longitude'];
            // document.getElementById('distance').value = food_planer_serialized.data['distance'] * 1000;
            // document.getElementById('budget').value = food_planer_serialized.data['budget'];
            // document.getElementById('portions').value = food_planer_serialized.data['portions'];
        });
    </script>
{% endblock %}
