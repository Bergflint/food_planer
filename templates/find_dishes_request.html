{% extends "rest_framework/api.html" %}

{% block content %}
    {{ block.super }}
    <h1>Food Planner Form</h1>
    <form id="fileUploadForm" method="POST" enctype="multipart/form-data" action="{% url 'find_dish_fast' %}">
        {% csrf_token %}

        <label for="latitude">Latitude:</label><br>
        <input type="text" id="latitude" name="latitude" required><br>

        <label for="longitude">Longitude:</label><br>
        <input type="text" id="longitude" name="longitude" required><br>

        <label for="selectedStoreID">Selected Store ID:</label><br>
        <input type="text" id="selectedStoreID" name="selectedStoreID" required><br>

        <label for="foodPreferences">Food Preferences (comma-separated):</label><br>
        <input type="text" id="foodPreferences" name="foodPreferences" required><br>

        <button type="submit">Send Food Plan</button>
    </form>

    <script>
        // Pre-fill the form with default values if data exists from the backend (optional)
        document.addEventListener('DOMContentLoaded', function() {
            // You can set default values for the form if you have this data from the backend
            // Replace 'food_planner_serialized.data' with the appropriate data object if needed
            // Example:
            // document.getElementById('latitude').value = food_planner_serialized.data['latitude'];
            // document.getElementById('longitude').value = food_planner_serialized.data['longitude'];
            // document.getElementById('selectedStores').value = food_planner_serialized.data['selectedStores'].join(',');
            // document.getElementById('foodPreferences').value = food_planner_serialized.data['foodPreferences'].join(',');
        });
    </script>
{% endblock %}
